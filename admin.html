<!doctype html><html lang="fa" dir="rtl"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>پنل ادمین</title><style>body{font-family:Vazirmatn;background:#071029;color:#fff;padding:12px}input,textarea{width:100%;padding:8px;margin:6px 0;border-radius:8px;border:0;background:#0b2230;color:#fff}button{background:#06b6d4;border:0;padding:8px 10px;border-radius:8px;color:#021022}</style></head><body><h2>پنل ادمین مقدماتی</h2><div><h3>افزودن محصول</h3><input id="title" placeholder="عنوان"><input id="price" placeholder="قیمت"><input id="platform" placeholder="پلتفرم"><textarea id="desc" placeholder="توضیحات"></textarea><button onclick="add()">افزودن</button></div><h3>لیست محصولات</h3><div id="list"></div><script>async function load(){ const res=await fetch('/admin/products'); const data=await res.json(); const out=document.getElementById('list'); out.innerHTML=''; data.forEach(p=>{ const d=document.createElement('div'); d.style.padding='8px'; d.style.border='1px solid #0b2230'; d.style.marginBottom='6px'; d.innerHTML=`<div><strong>${p.title}</strong> — ${p.price} تومان</div><div><button onclick="del('${p._id}')">حذف</button></div>`; out.appendChild(d); }); } async function add(){ const body={title:document.getElementById('title').value, price:parseInt(document.getElementById('price').value)||0, platform:document.getElementById('platform').value, description:document.getElementById('desc').value, slug:document.getElementById('title').value.replace(/\s+/g,'-').toLowerCase()}; await fetch('/admin/products',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}); load(); } async function del(id){ await fetch('/admin/products/'+id,{method:'DELETE'}); load(); } load();</script></body></html>